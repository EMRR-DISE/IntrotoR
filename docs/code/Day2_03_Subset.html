<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Perry S">
<title>Introduction to R Training - July 2024 - 4&nbsp; Subset Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../code/Day2_04_Mutate.html" rel="next">
<link href="../code/Day2_02_ImportData.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Introduction to R Training - July 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/EMRR-DISE/IntrotoR" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../code/Day2_DataOrg.html">Day 2: 7/11/2024</a></li><li class="breadcrumb-item"><a href="../code/Day2_DataOrg.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Manipulation</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
=======
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../code/Day2_01_Intro.html">Day 2: 7/11/2024</a></li><li class="breadcrumb-item"><a href="../code/Day2_03_Subset.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Subset Data</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Intro to R for DWR</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Day 1: 7/9/2024</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day1Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">An introduction to R</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/Day2_01_Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 2: 7/11/2024</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day2_02_ImportData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Import Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day2_03_Subset.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Subset Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day2_04_Mutate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Mutate Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day2_05_FinalExercise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Final Exercise</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Day 3: 7/16/2024</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day3_MakingGraphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Making Graphs</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/Day4_01_Outline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 4: 7/18/2024</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day4_02_Summarizing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Summarizing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day4_03_Reshaping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Reshaping Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day4_04_Joins_Binds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Joins and Binds</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day4_05_Extras.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Optional Extra Topics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Day4_06_Final_Exercise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Final Exercise</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/DatesandTimes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Bonus lesson - Dates and Times</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/RDefinitions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Definitions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Useful Resources</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">4.1</span> Introduction</a></li>
  <li><a href="#basic-subsetting" id="toc-basic-subsetting" class="nav-link" data-scroll-target="#basic-subsetting"><span class="header-section-number">4.2</span> Basic Subsetting</a></li>
  <li><a href="#subset-by-column-names" id="toc-subset-by-column-names" class="nav-link" data-scroll-target="#subset-by-column-names"><span class="header-section-number">4.3</span> Subset by Column Names</a></li>
  <li><a href="#subset-by-row-values" id="toc-subset-by-row-values" class="nav-link" data-scroll-target="#subset-by-row-values"><span class="header-section-number">4.4</span> Subset By Row Values</a></li>
  <li>
<a href="#aside-logical-operators" id="toc-aside-logical-operators" class="nav-link" data-scroll-target="#aside-logical-operators"><span class="header-section-number">4.5</span> <u>Aside:</u> Logical Operators</a>
  <ul>
<li><a href="#equality-and-negate-equality" id="toc-equality-and-negate-equality" class="nav-link" data-scroll-target="#equality-and-negate-equality"><span class="header-section-number">4.5.1</span> <em>equality</em> (<code>==</code>) and <em>negate equality</em> (<code>!=</code>)</a></li>
  <li><a href="#and-and-or" id="toc-and-and-or" class="nav-link" data-scroll-target="#and-and-or"><span class="header-section-number">4.5.2</span> <em>and</em> (<code>&amp;</code>) and <em>or</em> (<code>|</code>)</a></li>
  <li><a href="#less-than-and-greater-than" id="toc-less-than-and-greater-than" class="nav-link" data-scroll-target="#less-than-and-greater-than"><span class="header-section-number">4.5.3</span> <em>less than</em> <code>&lt;</code> and <em>greater than</em> <code>&gt;</code></a></li>
  <li><a href="#in-in" id="toc-in-in" class="nav-link" data-scroll-target="#in-in"><span class="header-section-number">4.5.4</span> <em>in</em> (<code>%in%</code>)</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise"><span class="header-section-number">4.5.5</span> Exercise</a></li>
  </ul>
</li>
  <li><a href="#subset-by-column-and-row" id="toc-subset-by-column-and-row" class="nav-link" data-scroll-target="#subset-by-column-and-row"><span class="header-section-number">4.6</span> Subset by Column and Row</a></li>
  <li><a href="#subset-by-dates" id="toc-subset-by-dates" class="nav-link" data-scroll-target="#subset-by-dates"><span class="header-section-number">4.7</span> Subset by Dates</a></li>
  <li><a href="#subset-na" id="toc-subset-na" class="nav-link" data-scroll-target="#subset-na"><span class="header-section-number">4.8</span> Subset <code>NA</code></a></li>
  </ul></nav>
    </div>
<!-- main -->
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
=======
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../code/Day2_01_Intro.html">Day 2: 7/11/2024</a></li><li class="breadcrumb-item"><a href="../code/Day2_03_Subset.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Subset Data</span></a></li></ol></nav><div class="quarto-title">
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<h1 class="title">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Subset Data</span>
</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Perry S </p>
          </div>
  </div>
    
  
    
  </div>
  

<<<<<<< HEAD:docs/code/Day2_DataOrg.html
</header><section id="working-with-data-in-r" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="working-with-data-in-r">
<span class="header-section-number">3.1</span> Working with Data in R</h2>
<p>As data scientists, our goal to use our collected data to produce statistics and graphics that inform various management and scientific questions. In order to do this, we must first learn how to properly format our data in R. Practically, this means learning basic processes for formatting data frames.</p>
</section><section id="load-packages" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="load-packages">
<span class="header-section-number">3.2</span> Load Packages</h2>
<p>One of the most important “packages” for this task is <code>tidyverse</code>, which we learned about yesterday. We’ll import it here:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="read-in-data" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="read-in-data">
<span class="header-section-number">3.3</span> Read in Data</h2>
<p>Next, we must import our data. The common function for this is <code>read_csv</code> from <code>readr</code> (which is nested in <code>tidyverse</code>). For our demonstrations, we will use the <strong>WQ_P8D7.csv</strong> file housed in the <strong>data</strong> folder.</p>
<p>When importing data, we must specify the <em>filepath</em> where it’s housed. There are multiple ways to do this. We could hard-code in the path, which is called the <em>absolute path</em>:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">'C:/R/IntrotoR/data/WQ_P8D7.csv'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: 'C:/R/IntrotoR/data/WQ_P8D7.csv' does not exist.</code></pre>
</div>
</div>
<p>However, this code is very specific and will break when used on other computers. If we instead house data in a <strong>Project</strong>, we can make use of <em>relative filepaths</em>. These are ideal because anyone who uses the Project can run the code:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">'data/WQ_P8D7.csv'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><u>If you received an error here</u>, this is because your Rmd files are not being evaluated at the Project level. One way to fix this is to change your options in <code>Tools</code> &gt; <code>Global Options</code> &gt; <code>R Markdown</code> &gt; <code>evaluate chunks in directory</code> to <code>Project</code>.</p>
<p>You can also use the <code>here</code> package instead:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_wq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">'data/WQ_P8D7.csv'</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We now have a dataframe <em>object</em> called <code>df_wq</code>. We can use <code>head</code> to see what this dataframe looks like:</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5             98        0.15
2 D7      2020-01-22  0.67       0.87            82        0.21
3 P8      2020-02-14  1.46       0.69            81        0.25
4 D7      2020-02-20  2.15       0.5             86        0.14
5 P8      2020-03-03  1.4        0.56            80        0.11
6 D7      2020-03-06  1.89       1.13            93        0.22
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<p>And <code>glimpse</code> to see information about the columns:</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 62
Columns: 20
$ Station            &lt;chr&gt; "P8", "D7", "P8", "D7", "P8", "D7", "P8", "D7", "P8…
$ Date               &lt;date&gt; 2020-01-16, 2020-01-22, 2020-02-14, 2020-02-20, 20…
$ Chla               &lt;dbl&gt; 0.64, 0.67, 1.46, 2.15, 1.40, 1.89, 4.73, 1.74, 6.4…
$ Pheophytin         &lt;dbl&gt; 0.50, 0.87, 0.69, 0.50, 0.56, 1.13, 1.25, 0.89, 0.8…
$ TotAlkalinity      &lt;dbl&gt; 98.0, 82.0, 81.0, 86.0, 80.0, 93.0, 59.0, 78.0, 63.…
$ DissAmmonia        &lt;dbl&gt; 0.150, 0.210, 0.250, 0.140, 0.110, 0.220, 0.050, 0.…
$ DissNitrateNitrite &lt;dbl&gt; 2.800, 0.490, 1.700, 0.480, 1.600, 0.380, 1.070, 0.…
$ DOC                &lt;dbl&gt; 3.90, 0.27, 2.80, 0.39, 2.00, 0.19, 2.80, 1.20, 3.1…
$ TOC                &lt;dbl&gt; 4.10, 0.32, 2.50, 0.41, 2.10, 0.20, 2.80, 1.20, 3.1…
$ DON                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 0.30, 0.20, 0.30, 0.10, 0.5…
$ TotPhos            &lt;dbl&gt; 0.310, 0.082, 0.130, 0.130, 0.190, 0.100, 0.188, 0.…
$ DissOrthophos      &lt;dbl&gt; 0.200, 0.071, 0.130, 0.065, 0.140, 0.082, 0.177, 0.…
$ TDS                &lt;dbl&gt; 380, 9500, 340, 5800, 290, 8700, 280, 7760, 227, 11…
$ TSS                &lt;dbl&gt; 8.9, 38.0, 2.2, 18.0, 1.4, 28.0, 6.6, 35.6, 5.3, 23…
$ TKN                &lt;dbl&gt; 0.520, 0.480, 0.430, 0.250, 0.400, 0.200, 0.400, 0.…
$ Depth              &lt;dbl&gt; 28.9, 18.8, 39.0, 7.1, 39.0, 7.2, 37.1, 5.2, 36.7, …
$ Secchi             &lt;dbl&gt; 116, 30, 212, 52, 340, 48, 100, 40, 160, 44, 120, 6…
$ Microcystis        &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 3, 2, 3, 2, 4, 2, 3, 2, 2, 1, 1, …
$ SpCndSurface       &lt;dbl&gt; 667, 15532, 647, 11369, 530, 16257, 503, 12946, 404…
$ WTSurface          &lt;dbl&gt; 9.67, 9.97, 11.09, 12.51, 13.97, 13.81, 23.46, 21.1…</code></pre>
</div>
</div>
</section><section id="subsetting" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="subsetting">
<span class="header-section-number">3.4</span> Subsetting</h2>
<p>Lets talk a bit about the structure of the data frame. Dataframes are 2-dimensional objects (row x column). Every entry in a dataframe has a unique <strong>index</strong> that’s defined by which row x column it’s in. Since we rarely want to work on the entire dataframe at once, we can use these indices to <strong>subset</strong> our data.</p>
<p>For example, if I want to look at the value in the 1st row of the 2nd column:</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======

</header><section id="introduction" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="introduction">
<span class="header-section-number">4.1</span> Introduction</h2>
<p>Let’s talk a bit about the structure of a data frame. Data frames are 2-dimensional objects (row x column). Every entry in a data frame has a unique <strong>index</strong> that’s defined by which row x column it’s in. Since we rarely want to work on the entire data frame at once, we can use these indices to <strong>subset</strong> our data.</p>
</section><section id="basic-subsetting" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="basic-subsetting">
<span class="header-section-number">4.2</span> Basic Subsetting</h2>
<p>For example, if I want to look at the value in the 1st row of the 2nd column, I can call the index [1,2]:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  Date      
  &lt;date&gt;    
1 2020-01-16</code></pre>
</div>
</div>
<p>or, perhaps, the 2nd row of the 1st column:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  Station
  &lt;chr&gt;  
1 D7     </code></pre>
</div>
</div>
<p>We can also access an entire row or column at once:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span> <span class="co"># entire row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-01-16  0.64        0.5            98        0.15
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="co"># entire column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 1
   Station
   &lt;chr&gt;  
 1 P8     
 2 D7     
 3 P8     
 4 D7     
 5 P8     
 6 D7     
 7 P8     
 8 D7     
 9 P8     
10 D7     
# ℹ 52 more rows</code></pre>
</div>
</div>
<p>You can also subset multiple columns/rows at once by using a <code>:</code></p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> <span class="co"># all rows, 2-4th columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 3
   Date        Chla Pheophytin
   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 2020-01-16  0.64       0.5 
 2 2020-01-22  0.67       0.87
 3 2020-02-14  1.46       0.69
 4 2020-02-20  2.15       0.5 
 5 2020-03-03  1.4        0.56
 6 2020-03-06  1.89       1.13
 7 2020-06-11  4.73       1.25
 8 2020-06-17  1.74       0.89
 9 2020-07-13  6.4        0.88
10 2020-07-16  2.79       0.85
# ℹ 52 more rows</code></pre>
</div>
</div>
</section><section id="subset-by-column-names" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="subset-by-column-names">
<span class="header-section-number">4.3</span> Subset by Column Names</h2>
<p>Subsetting is very powerful. However, if we specify values by their numerical index, we can get confused about what we’re accessing. For example, if I wanted to work with <code>DissAmmonia</code> data, I would have to know that it’s the 4th column in my data frame. That can get unwieldy with complex datasets.</p>
<p>Instead, we can use the <strong>column header</strong> to call a particular column:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">[</span><span class="st">'DissAmmonia'</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 1
   DissAmmonia
         &lt;dbl&gt;
 1        0.15
 2        0.21
 3        0.25
 4        0.14
 5        0.11
 6        0.22
 7        0.05
 8        0.05
 9        0.05
10        0.05
# ℹ 52 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">[</span><span class="st">'DissAmmonia'</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [62 × 1] (S3: tbl_df/tbl/data.frame)
 $ DissAmmonia: num [1:62] 0.15 0.21 0.25 0.14 0.11 0.22 0.05 0.05 0.05 0.05 ...</code></pre>
</div>
</div>
<p>This returns a tibble that only contains the relevant column.</p>
<p>We can also call the column as a vector (this is the more common syntax):</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">$</span><span class="va">DissAmmonia</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.150 0.210 0.250 0.140 0.110 0.220 0.050 0.050 0.050 0.050 0.050 0.050
[13] 0.062 0.060 0.050 0.050 0.050 0.123 0.299 0.135 0.063 0.078 0.050 0.093
[25] 0.056 0.058 0.050 0.050 0.050 0.050 0.069 0.050 0.069 0.073 0.118 0.186
[37] 0.090 0.192 0.113 0.107 0.053 0.106 0.086 0.050 0.081 0.060 0.050 0.056
[49] 0.128 0.145 0.290 0.145 0.070 0.109 0.068 0.050 0.050 0.050 0.061 0.070
[61] 0.061 0.168</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">DissAmmonia</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:62] 0.15 0.21 0.25 0.14 0.11 0.22 0.05 0.05 0.05 0.05 ...</code></pre>
</div>
</div>
<p>To select multiple columns by name, we use our <code>:</code> technique within the <code>select</code> function from the <code>dplyr</code> package (in tidyverse):</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 4
   Station Date        Chla Pheophytin
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 P8      2020-01-16  0.64       0.5 
 2 D7      2020-01-22  0.67       0.87
 3 P8      2020-02-14  1.46       0.69
 4 D7      2020-02-20  2.15       0.5 
 5 P8      2020-03-03  1.4        0.56
 6 D7      2020-03-06  1.89       1.13
 7 P8      2020-06-11  4.73       1.25
 8 D7      2020-06-17  1.74       0.89
 9 P8      2020-07-13  6.4        0.88
10 D7      2020-07-16  2.79       0.85
# ℹ 52 more rows</code></pre>
</div>
</div>
<p>If this is the only data I want to work with, I can store this as a unique object:</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_chlpheo</span> <span class="op">&lt;-</span> <span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">df_chlpheo</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_chlpheo</span> <span class="op">&lt;-</span> <span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">glimpse</span><span class="op">(</span><span class="va">df_chlpheo</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 62
Columns: 4
$ Station    &lt;chr&gt; "P8", "D7", "P8", "D7", "P8", "D7", "P8", "D7", "P8", "D7",…
$ Date       &lt;date&gt; 2020-01-16, 2020-01-22, 2020-02-14, 2020-02-20, 2020-03-03…
$ Chla       &lt;dbl&gt; 0.64, 0.67, 1.46, 2.15, 1.40, 1.89, 4.73, 1.74, 6.40, 2.79,…
$ Pheophytin &lt;dbl&gt; 0.50, 0.87, 0.69, 0.50, 0.56, 1.13, 1.25, 0.89, 0.88, 0.85,…</code></pre>
</div>
</div>
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<section id="aside-tidyverse-pipes" class="level4" data-number="3.4.1.1"><h4 data-number="3.4.1.1" class="anchored" data-anchor-id="aside-tidyverse-pipes">
<span class="header-section-number">3.4.1.1</span> Aside: Tidyverse Pipes</h4>
<p>You’ll notice I used some new syntax there, namely, the <code>%&gt;%</code>. This is called the <em>pipe operator</em>, Operators are functions that allows one to perform operations on other functions/variables. The pipe operator specifically allows you to chain together tidyverse commands.</p>
<p>Therefore, instead of writing the above code like this:</p>
<div class="cell">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">df_wq</span>, <span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 4
   Station Date        Chla Pheophytin
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 P8      2020-01-16  0.64       0.5 
 2 D7      2020-01-22  0.67       0.87
 3 P8      2020-02-14  1.46       0.69
 4 D7      2020-02-20  2.15       0.5 
 5 P8      2020-03-03  1.4        0.56
 6 D7      2020-03-06  1.89       1.13
 7 P8      2020-06-11  4.73       1.25
 8 D7      2020-06-17  1.74       0.89
 9 P8      2020-07-13  6.4        0.88
10 D7      2020-07-16  2.79       0.85
# ℹ 52 more rows</code></pre>
</div>
</div>
<p>For clarity, I can <em>pipe</em> the dataframe into the select function:</p>
<div class="cell">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 4
   Station Date        Chla Pheophytin
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 P8      2020-01-16  0.64       0.5 
 2 D7      2020-01-22  0.67       0.87
 3 P8      2020-02-14  1.46       0.69
 4 D7      2020-02-20  2.15       0.5 
 5 P8      2020-03-03  1.4        0.56
 6 D7      2020-03-06  1.89       1.13
 7 P8      2020-06-11  4.73       1.25
 8 D7      2020-06-17  1.74       0.89
 9 P8      2020-07-13  6.4        0.88
10 D7      2020-07-16  2.79       0.85
# ℹ 52 more rows</code></pre>
=======
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tidyverse Pipes
</div>
</div>
<div class="callout-body-container callout-body">
<p>You’ll notice I used some new syntax, namely, the <code>%&gt;%</code>. This is called the <strong>pipe operator</strong>, <strong>Operators</strong> are functions that allows one to perform operations on other functions/variables. The pipe operator specifically allows you to chain together tidyverse commands. Using pipes helps keep code readable and easy to follow.</p>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
</div>
</div>
</section><section id="subset-by-row-values" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="subset-by-row-values">
<span class="header-section-number">4.4</span> Subset By Row Values</h2>
<p>Another common goal is to subset by particular row values – say, only a given station, date range, or analyte value range. Tidyverse also has functions for this! Specifically, we use <code>filter</code> from the <code>dplyr</code> package:</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_p8</span> <span class="op">&lt;-</span> <span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Station</span> <span class="op">==</span> <span class="st">'P8'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_p8</span> <span class="op">&lt;-</span> <span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Station</span> <span class="op">==</span> <span class="st">'P8'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
</div>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">df_p8</span><span class="op">$</span><span class="va">Station</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "P8"</code></pre>
</div>
</div>
<hr></section><section id="aside-logical-operators" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="aside-logical-operators">
<span class="header-section-number">4.5</span> <u>Aside:</u> Logical Operators</h2>
<section id="equality-and-negate-equality" class="level3" data-number="4.5.1"><h3 data-number="4.5.1" class="anchored" data-anchor-id="equality-and-negate-equality">
<span class="header-section-number">4.5.1</span> <em>equality</em> (<code>==</code>) and <em>negate equality</em> (<code>!=</code>)</h3>
<p>Note we used another new symbol: <code>==</code>. This is the equality operator, a type of <strong>logical operator</strong>. Logical operators allow us to dictate what our code does via logical statements; they are the backbone of programming.</p>
<p><strong>Equality</strong>, as we saw above, tells the code to find all values from the right-hand side that are equal to the left-hand side.</p>
<p><strong>Negate</strong> does the opposite; it gives us the values that do not match. Here, we apply it to the equality operator, but note that <code>!</code> is the <strong>general negate operator</strong>; it can be applied to <em>any logical statement</em>.</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_notp8</span> <span class="op">&lt;-</span> <span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Station</span> <span class="op">!=</span> <span class="st">'P8'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_notp8</span> <span class="op">&lt;-</span> <span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Station</span> <span class="op">!=</span> <span class="st">'P8'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
</div>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">df_notp8</span><span class="op">$</span><span class="va">Station</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "D7"</code></pre>
</div>
</div>
</section><section id="and-and-or" class="level3" data-number="4.5.2"><h3 data-number="4.5.2" class="anchored" data-anchor-id="and-and-or">
<span class="header-section-number">4.5.2</span> <em>and</em> (<code>&amp;</code>) and <em>or</em> (<code>|</code>)</h3>
<p>Sometimes, we want to filter by multiple commands at once. We can use this using the logical operators <em>and</em> (<code>&amp;</code>) or <em>or</em> (<code>|</code>):</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Station</span> <span class="op">==</span> <span class="st">'P8'</span> <span class="op">&amp;</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Station</span> <span class="op">==</span> <span class="st">'P8'</span> <span class="op">&amp;</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-01-16  0.64        0.5            98        0.15
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5             98        0.15
2 D7      2020-01-22  0.67       0.87            82        0.21
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
</section><section id="less-than-and-greater-than" class="level3" data-number="4.5.3"><h3 data-number="4.5.3" class="anchored" data-anchor-id="less-than-and-greater-than">
<span class="header-section-number">4.5.3</span> <em>less than</em> <code>&lt;</code> and <em>greater than</em> <code>&gt;</code>
</h3>
<p>Sometimes, we want all values above or below:</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2020-02-01'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2020-02-01'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 60 × 20
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2020-02-14  1.46       0.69            81        0.25
 2 D7      2020-02-20  2.15       0.5             86        0.14
 3 P8      2020-03-03  1.4        0.56            80        0.11
 4 D7      2020-03-06  1.89       1.13            93        0.22
 5 P8      2020-06-11  4.73       1.25            59        0.05
 6 D7      2020-06-17  1.74       0.89            78        0.05
 7 P8      2020-07-13  6.4        0.88            63        0.05
 8 D7      2020-07-16  2.79       0.85            80        0.05
 9 P8      2020-08-11 16.5        1.41            65        0.05
10 D7      2020-08-17  0.5        6.13            83        0.05
# ℹ 50 more rows
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&lt;=</span> <span class="st">'2020-06-30'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&lt;=</span> <span class="st">'2020-06-30'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5             98        0.15
2 D7      2020-01-22  0.67       0.87            82        0.21
3 P8      2020-02-14  1.46       0.69            81        0.25
4 D7      2020-02-20  2.15       0.5             86        0.14
5 P8      2020-03-03  1.4        0.56            80        0.11
6 D7      2020-03-06  1.89       1.13            93        0.22
7 P8      2020-06-11  4.73       1.25            59        0.05
8 D7      2020-06-17  1.74       0.89            78        0.05
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2020-06-30'</span><span class="op">)</span><span class="op">)</span> <span class="co"># same thing but using negate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2020-06-30'</span><span class="op">)</span><span class="op">)</span> <span class="co"># same thing but using negate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5             98        0.15
2 D7      2020-01-22  0.67       0.87            82        0.21
3 P8      2020-02-14  1.46       0.69            81        0.25
4 D7      2020-02-20  2.15       0.5             86        0.14
5 P8      2020-03-03  1.4        0.56            80        0.11
6 D7      2020-03-06  1.89       1.13            93        0.22
7 P8      2020-06-11  4.73       1.25            59        0.05
8 D7      2020-06-17  1.74       0.89            78        0.05
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<p>What if we want data in between two dates? We can use the <code>&amp;</code> operator!</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2020-02-01'</span> <span class="op">&amp;</span> <span class="va">Date</span> <span class="op">&lt;=</span> <span class="st">'2020-06-30'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2020-02-01'</span> <span class="op">&amp;</span> <span class="va">Date</span> <span class="op">&lt;=</span> <span class="st">'2020-06-30'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-02-14  1.46       0.69            81        0.25
2 D7      2020-02-20  2.15       0.5             86        0.14
3 P8      2020-03-03  1.4        0.56            80        0.11
4 D7      2020-03-06  1.89       1.13            93        0.22
5 P8      2020-06-11  4.73       1.25            59        0.05
6 D7      2020-06-17  1.74       0.89            78        0.05
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
</section><section id="in-in" class="level3" data-number="4.5.4"><h3 data-number="4.5.4" class="anchored" data-anchor-id="in-in">
<span class="header-section-number">4.5.4</span> <em>in</em> (<code>%in%</code>)</h3>
<p>What if we wanted to subset by five specific dates? We could string together multiple <code>|</code> commands, but that can become unwieldy to write.</p>
<p>What if I instead had a vector of those five specific dates? Then I could subset by all the values in my dataset that match one of the values in that vector.</p>
<p>This is what the <code>%in%</code> function does:</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-02-14'</span>,<span class="st">'2020-03-06'</span>,<span class="st">'2020-06-11'</span>,<span class="st">'2021-03-05'</span>,<span class="st">'2021-04-05'</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-02-14'</span>,<span class="st">'2020-03-06'</span>,<span class="st">'2020-06-11'</span>,<span class="st">'2021-03-05'</span>,<span class="st">'2021-04-05'</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 P8      2020-02-14  1.46       0.69            81       0.25 
2 D7      2020-03-06  1.89       1.13            93       0.22 
3 P8      2020-06-11  4.73       1.25            59       0.05 
4 P8      2021-03-05  1.56       0.5            103       0.299
5 P8      2021-04-05  2.62       1.1            116       0.063
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
</section><section id="exercise" class="level3" data-number="4.5.5"><h3 data-number="4.5.5" class="anchored" data-anchor-id="exercise">
<span class="header-section-number">4.5.5</span> Exercise</h3>
<p>In one filter function, how would I select data that’s either before 2020-02-28 <em>or</em> after 2022-11-01?</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&lt;=</span> <span class="st">'2020-02-28'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2022-11-01'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr></section></section><section id="subset-by-column-and-row" class="level2" data-number="4.6"><h2 data-number="4.6" class="anchored" data-anchor-id="subset-by-column-and-row">
<span class="header-section-number">4.6</span> Subset by Column and Row</h2>
<p>Using our knowledge of pipes, it’s easy to subset by column and row at the same time!</p>
<div class="cell">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  Station Date        Chla Pheophytin
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5 
2 D7      2020-01-22  0.67       0.87</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Formatting Code
</div>
</div>
<div class="callout-body-container callout-body">
<p>Notice that above all the code is on the same line. This can be difficult to read. You can get around this by formatting your code. Personally, I like having different functions on different lines:</p>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also use <code>ctrl+shift+A</code> to auto-format code! Note that it looks different from above; this is fine. As long as you deem the code readable (and it works), you’re set.</p>
<div class="cell">
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># original</span></span>
<span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ctrl+shift+A</span></span>
<span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span></span>
<span>                   <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<hr></section><section id="subset-by-dates" class="level2" data-number="4.7"><h2 data-number="4.7" class="anchored" data-anchor-id="subset-by-dates">
<span class="header-section-number">4.7</span> Subset by Dates</h2>
<p>What if I want to subset all values in a given year? If I had a vector of all the years in my dataset, then I could simply use <code>%in%</code>! But how would I get that vector?</p>
<p>The <code>lubridate</code> package allows you to manipulate dates. Since dates are complicated in R, we won’t go into too much detail. However, a few useful functions are <code>day</code>, <code>month</code>, and <code>year</code>, which return the days, months, and years (as vectors) from a vector of dates that are of the <strong>Date class</strong>:</p>
<p><em>Original:</em></p>
<div class="cell">
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2020-01-16" "2020-01-22" "2020-02-14" "2020-02-20" "2020-03-03"
 [6] "2020-03-06" "2020-06-11" "2020-06-17" "2020-07-13" "2020-07-16"
[11] "2020-08-11" "2020-08-17" "2020-09-09" "2020-09-24" "2020-10-08"
[16] "2020-10-13" "2020-11-06" "2020-11-12" "2021-03-05" "2021-03-10"
[21] "2021-04-05" "2021-04-08" "2021-05-05" "2021-05-10" "2021-06-03"
[26] "2021-06-08" "2021-07-16" "2021-07-21" "2021-08-16" "2021-08-19"
[31] "2021-09-10" "2021-09-16" "2021-10-13" "2021-10-18" "2021-11-10"
[36] "2021-11-16" "2021-12-10" "2021-12-15" "2022-01-12" "2022-02-14"
[41] "2022-03-16" "2022-04-27" "2022-05-27" "2022-06-27" "2022-07-25"
[46] "2022-08-22" "2022-09-20" "2022-10-19" "2022-11-18" "2022-12-19"
[51] "2022-01-07" "2022-02-09" "2022-03-11" "2022-04-22" "2022-05-23"
[56] "2022-06-22" "2022-07-20" "2022-08-17" "2022-09-15" "2022-10-14"
[61] "2022-11-15" "2022-12-14"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span> <span class="co"># check that it's the correct class</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<p><em>Days:</em></p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/day.html">day</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">day</span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code> [1] 16 22 14 20  3  6 11 17 13 16 11 17  9 24  8 13  6 12  5 10  5  8  5 10  3
[26]  8 16 21 16 19 10 16 13 18 10 16 10 15 12 14 16 27 27 27 25 22 20 19 18 19
[51]  7  9 11 22 23 22 20 17 15 14 15 14</code></pre>
</div>
</div>
<p><em>Months:</em></p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html">month</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">month</span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  1  2  2  3  3  6  6  7  7  8  8  9  9 10 10 11 11  3  3  4  4  5  5  6
[26]  6  7  7  8  8  9  9 10 10 11 11 12 12  1  2  3  4  5  6  7  8  9 10 11 12
[51]  1  2  3  4  5  6  7  8  9 10 11 12</code></pre>
</div>
</div>
<p><em>Years:</em></p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html">year</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">year</span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020
[16] 2020 2020 2020 2021 2021 2021 2021 2021 2021 2021 2021 2021 2021 2021 2021
[31] 2021 2021 2021 2021 2021 2021 2021 2021 2022 2022 2022 2022 2022 2022 2022
[46] 2022 2022 2022 2022 2022 2022 2022 2022 2022 2022 2022 2022 2022 2022 2022
[61] 2022 2022</code></pre>
</div>
</div>
<p>One use for these functions is to subset. Say we want all entries from the year 2021:</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html">year</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="st">'2021'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu">year</span><span class="op">(</span><span class="va">Date</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="st">'2021'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 20
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2021-03-05  1.56       0.5          103         0.299
 2 D7      2021-03-10  4.77       0.5           97.9       0.135
 3 P8      2021-04-05  2.62       1.1          116         0.063
 4 D7      2021-04-08  3.28       0.83          93.9       0.078
 5 P8      2021-05-05  4.73       1.48          89.9       0.05 
 6 D7      2021-05-10  1.85       0.55         100         0.093
 7 P8      2021-06-03  4.39       0.5           78.1       0.056
 8 D7      2021-06-08  4.21       1.2           96.8       0.058
 9 P8      2021-07-16  4.3        2.28          49.2       0.05 
10 D7      2021-07-21  6.54       1.15          93.4       0.05 
11 P8      2021-08-16  5.56       1.2           46.4       0.05 
12 D7      2021-08-19  6.76       4.03          91.1       0.05 
13 P8      2021-09-10  3.85       1.22          57.5       0.069
14 D7      2021-09-16  2.74       1.32          91.5       0.05 
15 P8      2021-10-13  1.97       0.57          74.9       0.069
16 D7      2021-10-18  2.95       2.86          94.9       0.073
17 P8      2021-11-10  1.25       0.92          59.8       0.118
18 D7      2021-11-16  1.52       1.38          85.6       0.186
19 P8      2021-12-10  1.52       0.7           79.4       0.09 
20 D7      2021-12-15  1.17       1.55          91.5       0.192
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># same thing but using negate</span></span>
<span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>  <span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html">year</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020'</span>,<span class="st">'2022'</span><span class="op">)</span><span class="op">)</span></span>
=======
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># same thing but using negate</span></span>
<span><span class="va">df_wq</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span></span>
<span>  <span class="op">!</span><span class="op">(</span><span class="fu">year</span><span class="op">(</span><span class="va">Date</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020'</span>,<span class="st">'2022'</span><span class="op">)</span><span class="op">)</span></span>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 20
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2021-03-05  1.56       0.5          103         0.299
 2 D7      2021-03-10  4.77       0.5           97.9       0.135
 3 P8      2021-04-05  2.62       1.1          116         0.063
 4 D7      2021-04-08  3.28       0.83          93.9       0.078
 5 P8      2021-05-05  4.73       1.48          89.9       0.05 
 6 D7      2021-05-10  1.85       0.55         100         0.093
 7 P8      2021-06-03  4.39       0.5           78.1       0.056
 8 D7      2021-06-08  4.21       1.2           96.8       0.058
 9 P8      2021-07-16  4.3        2.28          49.2       0.05 
10 D7      2021-07-21  6.54       1.15          93.4       0.05 
11 P8      2021-08-16  5.56       1.2           46.4       0.05 
12 D7      2021-08-19  6.76       4.03          91.1       0.05 
13 P8      2021-09-10  3.85       1.22          57.5       0.069
14 D7      2021-09-16  2.74       1.32          91.5       0.05 
15 P8      2021-10-13  1.97       0.57          74.9       0.069
16 D7      2021-10-18  2.95       2.86          94.9       0.073
17 P8      2021-11-10  1.25       0.92          59.8       0.118
18 D7      2021-11-16  1.52       1.38          85.6       0.186
19 P8      2021-12-10  1.52       0.7           79.4       0.09 
20 D7      2021-12-15  1.17       1.55          91.5       0.192
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<hr></section><section id="subset-na" class="level2" data-number="4.8"><h2 data-number="4.8" class="anchored" data-anchor-id="subset-na">
<span class="header-section-number">4.8</span> Subset <code>NA</code>
</h2>
<p>The final type of subset that we’ll cover today is by <code>NA</code> data.</p>
<p><code>NA</code> is a <strong>logical constant</strong> of length 1 which contains a missing value indicator:</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<details><summary>Code</summary><div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&lt;=</span> <span class="st">'2020-02-28'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">&gt;=</span> <span class="st">'2022-11-01'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="subset-by-column-and-row" class="level3" data-number="3.4.6"><h3 data-number="3.4.6" class="anchored" data-anchor-id="subset-by-column-and-row">
<span class="header-section-number">3.4.6</span> Subset by Column and Row</h3>
<p>Using our knowledge of pipes, it’s easy to subset by column and row at the same time!</p>
<div class="cell">
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  Station Date        Chla Pheophytin
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5 
2 D7      2020-01-22  0.67       0.87</code></pre>
</div>
</div>
<section id="aside-formatting-code" class="level4" data-number="3.4.6.1"><h4 data-number="3.4.6.1" class="anchored" data-anchor-id="aside-formatting-code">
<span class="header-section-number">3.4.6.1</span> Aside: Formatting Code</h4>
<p>Notice that above all the code is on the same line. This can be difficult to read. You can get around this by formatting your code. Personally, I like having different functions on different lines:</p>
<div class="cell">
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  Station Date        Chla Pheophytin
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5 
2 D7      2020-01-22  0.67       0.87</code></pre>
</div>
</div>
<p>You can also use <code>ctrl+shift+A</code> to auto-format code! Note that it looks different from above; this is fine. As long as you deem the code readable (and it works), you’re set.</p>
<div class="cell">
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># original</span></span>
<span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span> <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  Station Date        Chla Pheophytin
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5 
2 D7      2020-01-22  0.67       0.87</code></pre>
</div>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># ctrl+shift+A</span></span>
<span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-16'</span> <span class="op">|</span></span>
<span>                   <span class="va">Date</span> <span class="op">==</span> <span class="st">'2020-01-22'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  Station Date        Chla Pheophytin
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;
1 P8      2020-01-16  0.64       0.5 
2 D7      2020-01-22  0.67       0.87</code></pre>
</div>
</div>
</section></section><section id="subset-na" class="level3" data-number="3.4.7"><h3 data-number="3.4.7" class="anchored" data-anchor-id="subset-na">
<span class="header-section-number">3.4.7</span> Subset NA</h3>
<p>There’s one more type of subset that we’ll cover today. This is selecting data that is <code>NA</code>.</p>
<p><code>NA</code> is a logical constant of length 1 which contains a missing value indicator:</p>
<div class="cell">
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span> <span class="co"># NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span> <span class="co"># NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="st">'NA'</span><span class="op">)</span> <span class="co"># not the same</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Sometimes, we want to select only <code>NA</code> data or omit it entirely. Looking at the DON column, we see that there are <code>NA</code>s:</p>
<div class="cell">
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">DON</span><span class="op">)</span> <span class="co"># returns unique values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   NA 0.30 0.20 0.10 0.50 0.22 0.19 0.11 0.53 0.13 0.46 0.25 0.37 0.29 0.17
[16] 0.24 0.27 0.21 0.35 0.12 0.18 0.16 1.07 0.33 0.40 0.44 0.43 0.42 0.38</code></pre>
</div>
</div>
<p>A quicker way to check this is the <code>is.na</code> function:</p>
<div class="cell">
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">DON</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
[13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[61] FALSE FALSE</code></pre>
</div>
</div>
<p>This returns a logical vector. If I want to subset by this, I can use the <code>filter</code> function:</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">DON</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span>, <span class="va">Date</span>, <span class="va">DON</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">DON</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">Station</span>, <span class="va">Date</span>, <span class="va">DON</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  Station Date         DON
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;
1 P8      2020-01-16    NA
2 D7      2020-01-22    NA
3 P8      2020-02-14    NA
4 D7      2020-02-20    NA
5 P8      2020-03-03    NA
6 D7      2020-03-06    NA</code></pre>
</div>
</div>
<p><strong>Question:</strong> What operator would I use if I want all data <em>except</em> <code>NA</code>s (hint: I want to <em>negate</em> <code>NA</code>)</p>
<p><strong>Challenge Exercise</strong>: How would I write this statement? (Hint: examples are above)</p>
<div class="cell">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
<details><summary>Code</summary><div class="sourceCode" id="cb88"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">DON</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># use the ! operator before the function to negate it</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Station</span>, <span class="va">Date</span>, <span class="va">DON</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section><section id="mutate-function" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="mutate-function">
<span class="header-section-number">3.5</span> Mutate Function</h2>
<section id="new-columns" class="level3" data-number="3.5.1"><h3 data-number="3.5.1" class="anchored" data-anchor-id="new-columns">
<span class="header-section-number">3.5.1</span> New Columns</h3>
<p>Sometimes, we want to modify our already existing columns, or even add new ones. This is where the <code>mutate</code> function from the <code>dplyr</code> package comes in.</p>
<p>With mutate, we can add in new columns:</p>
<div class="cell">
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df_notp8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 20
  Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
1 D7      2020-01-22  0.67       0.87            82        0.21
2 D7      2020-02-20  2.15       0.5             86        0.14
3 D7      2020-03-06  1.89       1.13            93        0.22
4 D7      2020-06-17  1.74       0.89            78        0.05
5 D7      2020-07-16  2.79       0.85            80        0.05
6 D7      2020-08-17  0.5        6.13            83        0.05
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Lab <span class="op">=</span> <span class="st">'BSA'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 21
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2020-01-16  0.64       0.5             98        0.15
 2 D7      2020-01-22  0.67       0.87            82        0.21
 3 P8      2020-02-14  1.46       0.69            81        0.25
 4 D7      2020-02-20  2.15       0.5             86        0.14
 5 P8      2020-03-03  1.4        0.56            80        0.11
 6 D7      2020-03-06  1.89       1.13            93        0.22
 7 P8      2020-06-11  4.73       1.25            59        0.05
 8 D7      2020-06-17  1.74       0.89            78        0.05
 9 P8      2020-07-13  6.4        0.88            63        0.05
10 D7      2020-07-16  2.79       0.85            80        0.05
# ℹ 52 more rows
# ℹ 15 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;, Lab &lt;chr&gt;</code></pre>
</div>
</div>
<p>We can even add columns that are combinations of other ones:</p>
<div class="cell">
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>chlpheo <span class="op">=</span> <span class="va">Chla</span><span class="op">+</span><span class="va">Pheophytin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 21
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2020-01-16  0.64       0.5             98        0.15
 2 D7      2020-01-22  0.67       0.87            82        0.21
 3 P8      2020-02-14  1.46       0.69            81        0.25
 4 D7      2020-02-20  2.15       0.5             86        0.14
 5 P8      2020-03-03  1.4        0.56            80        0.11
 6 D7      2020-03-06  1.89       1.13            93        0.22
 7 P8      2020-06-11  4.73       1.25            59        0.05
 8 D7      2020-06-17  1.74       0.89            78        0.05
 9 P8      2020-07-13  6.4        0.88            63        0.05
10 D7      2020-07-16  2.79       0.85            80        0.05
# ℹ 52 more rows
# ℹ 15 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;, chlpheo &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>statdate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">Station</span>,<span class="va">Date</span>,sep <span class="op">=</span> <span class="st">'_'</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 21
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2020-01-16  0.64       0.5             98        0.15
 2 D7      2020-01-22  0.67       0.87            82        0.21
 3 P8      2020-02-14  1.46       0.69            81        0.25
 4 D7      2020-02-20  2.15       0.5             86        0.14
 5 P8      2020-03-03  1.4        0.56            80        0.11
 6 D7      2020-03-06  1.89       1.13            93        0.22
 7 P8      2020-06-11  4.73       1.25            59        0.05
 8 D7      2020-06-17  1.74       0.89            78        0.05
 9 P8      2020-07-13  6.4        0.88            63        0.05
10 D7      2020-07-16  2.79       0.85            80        0.05
# ℹ 52 more rows
# ℹ 15 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;, statdate &lt;chr&gt;</code></pre>
</div>
</div>
<section id="aside-relocate-columns" class="level4" data-number="3.5.1.1"><h4 data-number="3.5.1.1" class="anchored" data-anchor-id="aside-relocate-columns">
<span class="header-section-number">3.5.1.1</span> Aside: Relocate Columns</h4>
<p>Sometimes, we want to re-arrange our column order. For example, with our new <code>Lab</code> column, we might want that in the beginning with the other metadata. Here, we use the <code>relocate</code> function:</p>
<div class="cell">
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Lab <span class="op">=</span> <span class="st">'BSA'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate</a></span><span class="op">(</span><span class="va">Lab</span>, .after <span class="op">=</span> <span class="va">Date</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 21
   Station Date       Lab    Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt; &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2020-01-16 BSA    0.64       0.5             98        0.15
 2 D7      2020-01-22 BSA    0.67       0.87            82        0.21
 3 P8      2020-02-14 BSA    1.46       0.69            81        0.25
 4 D7      2020-02-20 BSA    2.15       0.5             86        0.14
 5 P8      2020-03-03 BSA    1.4        0.56            80        0.11
 6 D7      2020-03-06 BSA    1.89       1.13            93        0.22
 7 P8      2020-06-11 BSA    4.73       1.25            59        0.05
 8 D7      2020-06-17 BSA    1.74       0.89            78        0.05
 9 P8      2020-07-13 BSA    6.4        0.88            63        0.05
10 D7      2020-07-16 BSA    2.79       0.85            80        0.05
# ℹ 52 more rows
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
</section></section><section id="existing-columns" class="level3" data-number="3.5.2"><h3 data-number="3.5.2" class="anchored" data-anchor-id="existing-columns">
<span class="header-section-number">3.5.2</span> Existing Columns</h3>
<p>We can also use mutate <em>to modify existing columns</em></p>
<div class="cell">
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Chla <span class="op">=</span> <span class="va">Chla</span><span class="op">+</span><span class="fl">20</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 20
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2020-01-16  20.6       0.5             98        0.15
 2 D7      2020-01-22  20.7       0.87            82        0.21
 3 P8      2020-02-14  21.5       0.69            81        0.25
 4 D7      2020-02-20  22.2       0.5             86        0.14
 5 P8      2020-03-03  21.4       0.56            80        0.11
 6 D7      2020-03-06  21.9       1.13            93        0.22
 7 P8      2020-06-11  24.7       1.25            59        0.05
 8 D7      2020-06-17  21.7       0.89            78        0.05
 9 P8      2020-07-13  26.4       0.88            63        0.05
10 D7      2020-07-16  22.8       0.85            80        0.05
# ℹ 52 more rows
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<p>We can even change types! This is useful if, say, you have character column that should be numeric.</p>
<div class="cell">
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Chla <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">Chla</span><span class="op">)</span>,</span>
<span>         Pheophytin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">Pheophytin</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 20
   Station Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8      2020-01-16  0.64       0.5             98        0.15
 2 D7      2020-01-22  0.67       0.87            82        0.21
 3 P8      2020-02-14  1.46       0.69            81        0.25
 4 D7      2020-02-20  2.15       0.5             86        0.14
 5 P8      2020-03-03  1.4        0.56            80        0.11
 6 D7      2020-03-06  1.89       1.13            93        0.22
 7 P8      2020-06-11  4.73       1.25            59        0.05
 8 D7      2020-06-17  1.74       0.89            78        0.05
 9 P8      2020-07-13  6.4        0.88            63        0.05
10 D7      2020-07-16  2.79       0.85            80        0.05
# ℹ 52 more rows
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
<section id="aside-case-when" class="level4" data-number="3.5.2.1"><h4 data-number="3.5.2.1" class="anchored" data-anchor-id="aside-case-when">
<span class="header-section-number">3.5.2.1</span> Aside: Case When</h4>
<p>What if we only want to modify certain data in a column? Say, we want to add 20 to all Chla values <em>but only for P8</em>.</p>
<p>This can be done using the <code>case_when</code> function instead a mutate function:</p>
<div class="cell">
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    Chla <span class="op">=</span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span><span class="va">Station</span> <span class="op">==</span> <span class="st">'P8'</span> <span class="op">~</span> <span class="va">Chla</span> <span class="op">+</span> <span class="fl">20</span>, <span class="co"># if station is P8, add 20</span></span>
<span>              <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">Chla</span><span class="op">)</span> <span class="co"># else, keeep as previous value</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Station</span><span class="op">:</span><span class="va">Date</span><span class="op">)</span>, <span class="va">Chla</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 3
   Station Date        Chla
   &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt;
 1 P8      2020-01-16 20.6 
 2 D7      2020-01-22  0.67
 3 P8      2020-02-14 21.5 
 4 D7      2020-02-20  2.15
 5 P8      2020-03-03 21.4 
 6 D7      2020-03-06  1.89
 7 P8      2020-06-11 24.7 
 8 D7      2020-06-17  1.74
 9 P8      2020-07-13 26.4 
10 D7      2020-07-16  2.79
# ℹ 52 more rows</code></pre>
</div>
</div>
</section></section></section><section id="rename" class="level2" data-number="3.6"><h2 data-number="3.6" class="anchored" data-anchor-id="rename">
<span class="header-section-number">3.6</span> Rename</h2>
<p>Sometimes, we want to rename our columns (eg. if working with multiple dataframes, we want the columns to be standardized). We can do this using the <code>rename</code> function from the <code>dplyr</code> package:</p>
<div class="cell">
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>StationCode <span class="op">=</span> <span class="va">Station</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 20
   StationCode Date        Chla Pheophytin TotAlkalinity DissAmmonia
   &lt;chr&gt;       &lt;date&gt;     &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1 P8          2020-01-16  0.64       0.5             98        0.15
 2 D7          2020-01-22  0.67       0.87            82        0.21
 3 P8          2020-02-14  1.46       0.69            81        0.25
 4 D7          2020-02-20  2.15       0.5             86        0.14
 5 P8          2020-03-03  1.4        0.56            80        0.11
 6 D7          2020-03-06  1.89       1.13            93        0.22
 7 P8          2020-06-11  4.73       1.25            59        0.05
 8 D7          2020-06-17  1.74       0.89            78        0.05
 9 P8          2020-07-13  6.4        0.88            63        0.05
10 D7          2020-07-16  2.79       0.85            80        0.05
# ℹ 52 more rows
# ℹ 14 more variables: DissNitrateNitrite &lt;dbl&gt;, DOC &lt;dbl&gt;, TOC &lt;dbl&gt;,
#   DON &lt;dbl&gt;, TotPhos &lt;dbl&gt;, DissOrthophos &lt;dbl&gt;, TDS &lt;dbl&gt;, TSS &lt;dbl&gt;,
#   TKN &lt;dbl&gt;, Depth &lt;dbl&gt;, Secchi &lt;dbl&gt;, Microcystis &lt;dbl&gt;,
#   SpCndSurface &lt;dbl&gt;, WTSurface &lt;dbl&gt;</code></pre>
</div>
</div>
</section><section id="final-exercise" class="level2" data-number="3.7"><h2 data-number="3.7" class="anchored" data-anchor-id="final-exercise">
<span class="header-section-number">3.7</span> Final Exercise</h2>
<p>Using pipes, modify the <code>df_wq</code> dataframe as so:</p>
<ul>
<li><p>it’s assigned to a new object named <code>df_new</code></p></li>
<li><p>filter Date to 2021 data only (hint: after ‘2020-12-31’, before ‘2022-12-31’)</p></li>
<li><p>select only the <code>Station</code>, <code>Date</code>, <code>Chla</code>, and <code>Pheophytin</code> columns</p></li>
<li><p>mutate <code>Station</code> in-place so it’s a factor column</p></li>
</ul>
<p><strong>Challenge</strong>:</p>
<ul>
<li><p>mutate <code>Chla</code> so it’s +20 specifically for the case when the <em>month</em> is April (04) <em>and</em> the station is P8</p></li>
<li>
<p>assign this new dataframe to the object <code>df_new</code></p>
<ul>
<li>can you access the “original” <code>df_new</code> now? what happens if you re-run the code?</li>
</ul>
</li>
</ul>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb107"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_new</span> <span class="op">&lt;-</span> <span class="va">df_wq</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&gt;</span> <span class="st">'2020-12-31'</span> <span class="op">&amp;</span> <span class="va">Date</span> <span class="op">&lt;</span> <span class="st">'2022-12-31'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Station</span>, <span class="va">Date</span>, <span class="va">Chla</span>, <span class="va">Pheophytin</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Station <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">Station</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df_new</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb108"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_new</span> <span class="op">&lt;-</span> <span class="va">df_new</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    Chla <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html">month</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span> <span class="op">==</span> <span class="fl">04</span> <span class="op">&amp;</span> <span class="va">Station</span> <span class="op">==</span> <span class="st">'P8'</span> <span class="op">~</span> <span class="va">Chla</span> <span class="op">+</span> <span class="fl">20</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">Chla</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">df_new</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
=======
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df_wq</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df_wq</span><span class="op">$</span><span class="va">DON</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># use the ! operator before the function to negate it</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">Station</span>, <span class="va">Date</span>, <span class="va">DON</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
</details>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
<<<<<<< HEAD:docs/code/Day2_DataOrg.html
      <a href="../code/Day1Intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">An introduction to R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../code/Day3_MakingGraphs.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Making Graphs</span></span> <i class="bi bi-arrow-right-short"></i>
=======
      <a href="../code/Day2_02_ImportData.html" class="pagination-link" aria-label="Import Data">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Import Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../code/Day2_04_Mutate.html" class="pagination-link" aria-label="Mutate Data">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Mutate Data</span></span> <i class="bi bi-arrow-right-short"></i>
>>>>>>> f9b01cbf8eae713d1cd1e58ccd2d650996de3736:docs/code/Day2_03_Subset.html
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>